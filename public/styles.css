:root{
    --bg: #0f1724;
    --card: #0b1220;
    --muted: #9aa4b2;
    --accent: #7c5cff;
    --accent-2: #00d4ff;
    --glass: rgba(255,255,255,0.04);
    --radius: 12px;
    --maxw:1100px;
    color-scheme: dark;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  :root.light{
    --bg: #f5f7fb;
    --card: #ffffff;
    --muted: #5b6470;
    --accent: #5b21b6;
    --accent-2: #0b9bd7;
    --glass: rgba(12,18,31,0.03);
    color-scheme: light;
  }
  
  /* ---------- Base ---------- */
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    background:linear-gradient(180deg, rgba(124,92,255,0.06), transparent), var(--bg);
    color: #e6eef8;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    display:flex;
    justify-content:center;
    padding:28px;
    font-size:14px;
    line-height:1.45;
  }
  
  /* ---------- Layout ---------- */
  .app{
    width:100%;
    max-width:var(--maxw);
    display:grid;
    grid-template-columns: 1fr 320px;
    gap:20px;
    align-items:start;
    margin: 0 auto;
  }
  
  /* header */
  .site-header{
    grid-column: 1 / -1;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:16px;
    margin-bottom:6px;
  }
  .brand{display:flex;align-items:center;gap:12px}
  .brand h1{margin:0;font-size:20px;letter-spacing:0.6px}
  .subtitle{margin:0;font-size:13px;color:var(--muted)}
  .theme-toggle{
    background:transparent;border:0;font-size:18px;padding:6px;border-radius:8px;cursor:pointer;
    color:var(--accent-2);
    transition:transform .18s ease;
  }
  .theme-toggle:active{transform:scale(.96)}
  .controls{display:flex;gap:8px;align-items:center}
  .controls input[type=search]{padding:10px 12px;border-radius:10px;border:1px solid var(--glass);background:transparent;color:inherit;min-width:220px}
  .controls select{padding:10px;border-radius:10px;border:1px solid var(--glass);background:transparent;color:inherit}
  
  /* CTA / buttons */
  .cta{background:linear-gradient(90deg,var(--accent),var(--accent-2));border:0;color:white;padding:10px 14px;border-radius:10px;cursor:pointer;box-shadow:0 6px 20px rgba(11,12,20,0.4)}
  .cta.ghost, .ghost{background:transparent;border:1px solid var(--glass);color:inherit;padding:8px 10px;border-radius:10px;cursor:pointer}
  
  /* main + sidebar */
  .main{background:transparent;padding:0}
  .posts-grid{
    display:grid;
    grid-template-columns: repeat(auto-fill,minmax(260px,1fr));
    gap:18px;
    align-content:start;
  }
  
  /* ---------- Post card ---------- */
  .card, article.post{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));
    border-radius:var(--radius);
    padding:14px;
    box-shadow: 0 6px 24px rgba(2,6,23,0.45);
    border: 1px solid rgba(255,255,255,0.03);
    overflow:hidden;
  }
  article.post{position:relative;transform-origin:center bottom;cursor:default;transition:transform .25s ease, box-shadow .25s ease}
  article.post:hover{transform:translateY(-8px);box-shadow:0 14px 40px rgba(2,6,23,0.6)}
  .post h2{margin:0;font-size:16px}
  .post-meta{font-size:12px;color:var(--muted);margin:8px 0}
  .post-content{font-size:14px;color:inherit;line-height:1.45;margin-top:6px}
  .post img{width:100%;height:auto;border-radius:8px;margin-top:12px;display:block;object-fit:cover}
  
  /* ---------- Tags ---------- */
  .tag-list, .tags-inline{display:flex;flex-wrap:wrap;gap:8px}
  .tag{
    padding:6px 8px;border-radius:999px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    font-size:12px;color:var(--accent);cursor:pointer;border:1px solid rgba(255,255,255,0.02);
    transition:transform .12s ease, box-shadow .12s ease;
  }
  .tag:hover{transform:translateY(-3px);box-shadow:0 8px 22px rgba(2,6,23,0.18)}
  
  /* ---------- Aside cards ---------- */
  .sidebar{position:sticky;top:28px;align-self:start}
  .about, .tags{padding:12px;background:var(--card);border-radius:12px}
  
  /* load more */
  .load-more-wrap{grid-column:1 / -1;text-align:center;margin-top:12px}
  
  /* footer */
  .site-footer{grid-column:1 / -1;text-align:center;margin-top:18px;color:var(--muted)}
  
  /* ---------- Lightbox ---------- */
  .lightbox{
    position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:60;
    background:linear-gradient(180deg, rgba(10,10,12,0.7), rgba(5,5,8,0.85));
    padding:26px;
  }
  .lightbox.show{display:flex;animation:fadeIn .18s ease both}
  .lightbox img{max-width:90%;max-height:80%;border-radius:12px;box-shadow:0 18px 60px rgba(2,6,23,0.8)}
  .lb-close{position:absolute;right:24px;top:20px;background:transparent;border:0;color:white;font-size:20px;cursor:pointer}
  .lb-caption{position:absolute;left:26px;bottom:20px;color:#ddd}
  
  /* ---------- Modal / New Post ---------- */
  .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(2,6,23,0.6), rgba(2,6,23,0.6));z-index:70}
  .modal.show{display:flex}
  .modal-card{width:100%;max-width:720px;background:var(--card);padding:18px;border-radius:14px;position:relative}
  .modal-close{position:absolute;right:14px;top:14px;border:0;background:transparent;color:var(--muted);font-size:18px;cursor:pointer}
  .new-post-form label{display:block;margin:10px 0;font-size:13px}
  .new-post-form input, .new-post-form textarea{width:100%;padding:10px;border-radius:8px;border:1px solid var(--glass);background:transparent;color:inherit}
  .form-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
  .tiny{font-size:12px;color:var(--muted);margin-top:8px}
  
  /* ---------- File input + Upload button styling ---------- */
  
  /* Container/file input itself (shows filename) */
  .new-post-form input[type="file"] {
    color: var(--muted);
    font-size: 14px;
    padding: 8px 10px;
    border-radius: 8px;
    border: 1px dashed rgba(255,255,255,0.04);
    background: transparent;
    width: 100%;
    box-sizing: border-box;
  }
  
  /* Modern browsers: style the file selector button */
  .new-post-form input[type="file"]::file-selector-button {
    margin-right: 12px;
    border: 0;
    padding: 8px 12px;
    border-radius: 8px;
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    color: white;
    font-weight: 600;
    cursor: pointer;
    transition: transform .14s ease, box-shadow .14s ease;
  }
  .new-post-form input[type="file"]::file-selector-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 18px rgba(11,12,20,0.25);
  }
  
  /* WebKit legacy (Safari/older Chrome) */
  .new-post-form input[type="file"]::-webkit-file-upload-button {
    margin-right: 12px;
    border: 0;
    padding: 8px 12px;
    border-radius: 8px;
    background: linear-gradient(90deg, var(--accent), var(--accent-2));
    color: white;
    font-weight: 600;
    cursor: pointer;
  }
  
  /* ---------- High-contrast tag chips (improved readability) ---------- */
  /* Primary tag style (for clickable chips) */
  .tag {
    padding: 6px 12px;
    border-radius: 999px;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    font-size: 12px;
    font-weight: 600;
    background: linear-gradient(90deg, rgba(124,92,255,0.20), rgba(0,212,255,0.06));
    color: #ffffff;
    border: 1px solid rgba(255,255,255,0.06);
    box-shadow: 0 6px 18px rgba(2,6,23,0.25);
    cursor: pointer;
  }
  
  /* Slightly different look in light theme so tags remain visible */
  :root.light .tag {
    background: linear-gradient(90deg, rgba(91,33,182,0.12), rgba(11,155,215,0.04));
    color: #ffffff;
    border: 1px solid rgba(11,12,20,0.06);
  }
  
  /* Optional ghost variant for less emphasis */
  .tag.ghost {
    background: transparent;
    color: var(--accent);
    border: 1px solid rgba(255,255,255,0.04);
    box-shadow: none;
    font-weight: 600;
  }
  
  /* ---------- Animations ---------- */
  @keyframes fadeUp { from{opacity:0; transform:translateY(12px) scale(.995)} to{opacity:1; transform:none} }
  .post-animate{animation:fadeUp .5s cubic-bezier(.2,.9,.3,1) both}
  @keyframes fadeIn { from{opacity:0} to{opacity:1} }
  
  /* ---------- Responsive ---------- */
  @media (max-width:980px){
    .app{grid-template-columns: 1fr; padding:18px}
    .sidebar{order:3}
    .main{order:2}
    .site-header{flex-direction:column;align-items:stretch;gap:12px}
  }
  
  /* Reduce motion preference */
  @media (prefers-reduced-motion:reduce){
    .post-animate, .theme-toggle, article.post, .lightbox.show{animation:none;transition:none}
  }
  
  /* ---------- Small helpers ---------- */
  .code{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace; font-size:12px; background:rgba(255,255,255,0.02); padding:4px 6px; border-radius:6px}
  
  /* Ensure form buttons look good on light backgrounds */
  .new-post-form button, .form-actions button {
    border-radius: 10px;
    padding: 8px 12px;
  }
  
  /* Make sure inputs in light theme keep readable text color */
  :root.light .new-post-form input,
  :root.light .new-post-form textarea,
  :root.light .controls input[type="search"],
  :root.light .controls select {
    color: #0b1220;
  }
  
  /* Very small screens: reduce horizontal paddings */
  @media (max-width:420px){
    body{padding:14px}
    .controls input[type=search]{min-width:140px}
  }
  :root {
    --text: #e6eef8;      /* primary text color for dark mode */
    --muted: #9aa4b2;     /* muted text for dark mode */
    --card-text: #e6eef8; /* card/post text fallback */
  }
  
  :root.light {
    --text: #0b1220;      /* primary text color for light mode */
    --muted: #5b6470;     /* muted text for light mode */
    --card-text: #0b1220; /* card/post text fallback for light mode */
  }
  
  /* Make the whole page inherit the theme text color */
  body {
    color: var(--text);
  }
  
  /* Ensure post headings, meta and content use the theme variables */
  article.post,
  .card,
  .modal-card,
  .about,
  .tags {
    color: var(--card-text);
  }
  
  /* Specific elements inside posts */
  article.post h2,
  article.post h3,
  article.post .post-content,
  article.post .post-meta,
  article.post .content {
    color: var(--card-text);
  }
  
  /* Controls and inputs should also be readable */
  .controls input[type="search"],
  .controls select,
  .new-post-form input,
  .new-post-form textarea {
    color: var(--text);
  }
  
  /* Tags: keep contrast but still respond to theme */
  .tag {
    /* if you want tag text to be the opposite (white) keep it; otherwise use var(--text) */
    color: var(--text);
  }
  
  /* Footer, small text */
  .site-footer,
  .tiny,
  .subtitle {
    color: var(--muted);
  }
  
  /* If any rule earlier forced a color, make these override it */
  article.post h2,
  article.post .post-content,
  article.post .post-meta {
    /* increase specificity slightly to override prior generic rules */
    color: var(--card-text) !important;
  } 
  .tag {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    margin: 0.25rem;
    margin-top: 1rem;
    border-radius: var(--radius);
    font-size: 0.875rem;
    font-weight: 500;
    cursor: default;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  
  /* Dark mode tags */
  :root .tag {
    background-color: #3c4a5c;
    color: #e6eef8;
  }
  
  /* Light mode tags */
  :root.light .tag {
    background-color: #d8e1ec;
    color: #0b1220;
  }
/* Add spacing between sidebar cards (About, Tags, etc.) */
.sidebar > .card {
    margin-bottom: 1rem; /* space below each card */
  }
  